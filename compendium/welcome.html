---
layout: compendium-page
title: "Toshe's Quest Compendium"
permalink: "/compendium"
---

<label for="link-selector">Start typing to search...</label>
<input list="compendium-links" id="link-selector" autofocus />
<datalist id="compendium-links">
{%- for weapon in site.data.weapondata -%}
  <option value="⚔ {{ weapon.NAME }}"></option>
{%- endfor -%}
{%- for armour in site.data.armourdata -%}
  <option value="♖ {{ armour.NAME }}"></option>
{%- endfor -%}
{%- for shield in site.data.shielddata -%}
  <option value="☩ {{ shield.NAME }}"></option>
{%- endfor -%}
{%- for misc-item in site.data.miscellaneousdata -%}
  <option value="☄ {{ misc-item.NAME }}"></option>
{%- endfor -%}
{%- for skill in site.data.skilldata -%}
  <option value="✨ {{ skill.NAME }}"></option>
{%- endfor -%}
{%- for enemy in site.data.enemydata -%}
  {%- if enemy.IDENTIFIER contains "Unfleeable" -%}
    {%- continue -%}
  {%- endif -%}
  <option value="☠ {{ enemy.IDENTIFIER }}">{{ enemy.NAME }}</option>
{%- endfor -%}
</datalist>

<h2>
  Sections
</h2>
{%- assign relative_page_paths = layout.header_pages -%}
{%- assign titles_size = site.pages | map: 'title' | join: '' | size -%}
{%- if titles_size > 0 -%}
<ul>
{%- for relative_path in relative_page_paths -%}
  {%- assign path = relative_path | prepend: "compendium/" -%}
  {%- assign my_page = site.pages | where: "path", path | first -%}
  {%- if my_page.title -%}
  <li><a class="page-link" href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a></li>
  {%- endif -%}
{%- endfor -%}
</ul>
{%- endif -%}
<a href="/">← Return to the main site</a>

<script type="text/javascript">
  emojiToSectionName = {
    "⚔": "weapons#",
    "♖": "armour#",
    "☩": "shields#",
    "☄": "miscellaneous#",
    "✨": "skills#",
    "☠": "enemies#",
  }

  const dropdown = document.getElementById('link-selector');
  let madeSelection = false;

  dropdown.addEventListener('keydown', (e) => {
    madeSelection = e.key === undefined || e.key === "Enter";
  });
  dropdown.addEventListener('input', (e) => {
    if (madeSelection) {
      console.log(e.target.text);
      window.location.href = "/compendium/" + emojiToSectionName[e.target.value.split(' ')[0]] + e.target.value.split(' ').slice(1).join(' ').toLowerCase().replace(' ', '-');
    }
  });
</script>